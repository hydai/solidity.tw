# 共識機制

在區塊鏈系統中，通常是由一個龐大數量的節點所構成的網路系統。
然而，在一個分散系統中，我們無法得知有多少惡意的攻擊者存在，加上多個節點同時間可能收到來自世界各地無數的交易。若沒有一套機制來確保交易的順序、安全性、穩定性、與容錯能力，那整個系統便失去意義了。

因此，共識機制就被設計出來解決這個難題。

## 共識的概念

選舉就是一種共識機制，比如今年火熱無比的縣市長選舉，要選出市長，自然就需要選民們進行投票，而投完票後，以「票多的贏，票少的輸」的策略，決定出誰最終成為市長。

而在以太坊中，至少需要有 66% 的節點同意以後才能建立共識。

## 機制

共識機制就是一套規則，定義了在什麼樣的條件或限制下，讓整個網路都同意某個共識的方法。

共識機制通常定義了：

1. 誰能參與成為礦工（Miner）或驗證者（Validator），作為挖出區塊或者驗證區塊的人，將獲得出塊獎勵以激勵大家參與。
2. 如果有人作惡，應該如何被懲罰。
3. 讓作惡的成本變得非常高，以避免惡意人士的攻擊。

以太坊在 The Merge 之前跟比特幣（Bitcoin）一樣，都是工作量證明（Proof-of-Work）的共識機制。

而在 The Merge 後已經改為權益證明（Proof-of-Stake）的共識機制。

## 不同的共識機制

在接下來的幾個章節，我們會依序介紹什麼是工作量證明（Ethereum 1.0 的共識機制）與權益證明（Ethereum 2.0 的共識機制）
