(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{362:function(t,s,a){"use strict";a.r(s);var n=a(17),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"erc1155-多元代幣標準-erc20-erc721-我全都要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#erc1155-多元代幣標準-erc20-erc721-我全都要"}},[t._v("#")]),t._v(" ERC1155 多元代幣標準 - ERC20 + ERC721 我全都要")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://eips.ethereum.org/EIPS/eip-1155",target:"_blank",rel:"noopener noreferrer"}},[t._v("ERC-1155 MULTI-TOKEN STANDARD"),s("OutboundLink")],1),t._v(" 定義了一個揉合 ERC20 與 ERC721 的新標準，他可以發行同值性代幣（如：ERC20）也能發行非同值性代幣（如：NFT ERC721）。")]),t._v(" "),s("h2",{attrs:{id:"介面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介面"}},[t._v("#")]),t._v(" 介面")]),t._v(" "),s("div",{staticClass:"language-solidity extra-class"},[s("pre",{pre:!0,attrs:{class:"language-solidity"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ERC1155")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* is ERC165 */")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 當代幣被轉移時，`TransferSingle` 必須被觸發，即使是轉移 `0` 個代幣也是，轉移的行為包含「鑄造」與「銷毀」。")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_operator` 是發起交易的位址，即 `msg.sender`")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_from` 是持有者的位址；當「鑄造」新代幣時，此參數為位址 `0x0`")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_to` 是接收者的位址；當「銷毀」代幣時，此參數為位址 `0x0`")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_id` 為被轉移的 token ID")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_value` 為被轉移的 token 數量")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("event")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TransferSingle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("indexed")]),t._v(" _operator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("indexed")]),t._v(" _from"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("indexed")]),t._v(" _to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),t._v(" _id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),t._v(" _value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 當代幣被轉移時，`TransferBatch` 必須被觸發，即使是轉移 `0` 個代幣也是，轉移的行為包含「鑄造」與「銷毀」。")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_operator` 是發起交易的位址，即 `msg.sender`")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_from` 是持有者的位址；當「鑄造」新代幣時，此參數為位址 `0x0`")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_to` 是接收者的位址；當「銷毀」代幣時，此參數為位址 `0x0`")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_ids` 為被轉移的 token ID 列表")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_values` 為被轉移的 token 數量列表，其順序與長度需與 `_ids` 一致。")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("event")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TransferBatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("indexed")]),t._v(" _operator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("indexed")]),t._v(" _from"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("indexed")]),t._v(" _to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" _ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" _values"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 授權事件，當持有者「授權」或「撤銷」第三方位址管理全部代幣的權力時被觸發。")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_owner` 為持有者位址")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_operator` 為被授權者位址")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_approved` 為授權(`true`)或撤銷(`false`)")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("event")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ApprovalForAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("indexed")]),t._v(" _owner"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("indexed")]),t._v(" _operator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),t._v(" _approved"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// URI 更新事件")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 當代幣的 URI 被更新時，必須觸發此事件")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_value` 代表更新後的 URI")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_id` 代表被更新的 token ID")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("event")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("URI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" _value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("indexed")]),t._v(" _id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 呼叫者（`msg.sender`）從持有者（`_from`）轉移 `_value` 數量的特定代幣（`_id`）給接收者（`_to`）")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 呼叫者應先獲得持有者的授權，或呼叫者就是持有者本人")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 特殊情況：")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///    1. 當接收者（`_to`）為位址 `0x0` 時，回朔（revert）交易")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///    2. 當持有者（`_from`）所持有的代幣（`_id`）餘額低於要轉移的數量（`_value`）時，回朔交易")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///    3. 當發生任何錯誤時，回朔交易")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 當此函式被呼叫時，必須觸發 `TransferSingle` 事件")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("safeTransferFrom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" _from"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" _to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),t._v(" _id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),t._v(" _value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bytes")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("calldata")]),t._v(" _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("external")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        Balance changes and events MUST follow the ordering of the arrays "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("_values"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" before _ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("_values"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" etc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        After the above conditions "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("transfer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" in the batch are met"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" MUST check "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" `_to` "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" a smart "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("contract")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" code size "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" If so"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" it MUST call the relevant `ERC1155TokenReceiver` "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" on `_to` and act appropriately "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("see "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Safe Transfer Rules"')]),t._v(" section of the standard"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("                      \n        @param _from    Source "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v("\n        @param _to      Target "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v("\n        @param _ids     IDs of each token type "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("order and length must match _values array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        @param _values  Transfer amounts per token type "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("order and length must match _ids array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        @param _data    Additional data with no specified format"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MUST be sent unaltered in call to the `ERC1155TokenReceiver` "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" on `_to`\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 呼叫者（`msg.sender`）從持有者（`_from`）轉移 `_values` 數量的多種特定代幣（`_ids`）給接收者（`_to`）")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 呼叫者應先獲得持有者的授權，或呼叫者就是持有者本人")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 特殊情況：")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///    1. 當接收者（`_to`）為位址 `0x0` 時，回朔（revert）交易")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///    2. 當持有者（`_from`）所持有的任何一種代幣（`_ids`）餘額低於要轉移的對應數量（`_values`）時，回朔交易")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///.   3. 當轉移數量列表的長度與轉移代幣列表的長度不相符時，回朔交易")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///    3. 當發生任何錯誤時，回朔交易")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 當此函式被呼叫時，必須觸發 `TransferBatch` 或 `TransferSingle` 事件，需特別注意，在事件中的轉移代幣與數量的順序應嚴格與呼叫此函式的代幣與數量順序一致。")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("safeBatchTransferFrom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" _from"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" _to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("calldata")]),t._v(" _ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("calldata")]),t._v(" _values"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bytes")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("calldata")]),t._v(" _data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("external")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 查詢持有者帳戶中特定 token ID 的餘額")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_owner` 為持有者帳號")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_id` 為想查詢的 token id")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 回傳該代幣的餘額")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("balanceOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" _owner"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),t._v(" _id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("external")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("view")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 「帳戶」對「Token ID」的餘額列表")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_owners` 為持有者列表")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_ids` 為想查詢的 token id 列表")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 回傳一個列表，每個餘額為對應順序的（持有者，Token ID）的餘額")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("balanceOfBatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("calldata")]),t._v(" _owners"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("calldata")]),t._v(" _ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("external")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("view")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint256")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 呼叫者(`msg.sender`)授權給特定第三方位址管理所有代幣的權力")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_operator` 為第三方位址")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_approved` 為授權（`true`）或撤銷（`false`）")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setApprovalForAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" _operator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),t._v(" _approved"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("external")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 查詢持有者是否授權給特定第三方位址")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_owner` 為持有者位址")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// `_operator` 為第三方位址")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// 回傳 true -> 有授權； false -> 沒有授權")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isApprovedForAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" _owner"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("address")]),t._v(" _operator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("external")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("view")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"為什麼是我全都要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#為什麼是我全都要"}},[t._v("#")]),t._v(" 為什麼是我全都要")]),t._v(" "),s("p",[t._v("實際上，ERC1155 算是對 ERC721 的改良。ERC721 只允許每個代幣只能有一個獨一無二的編號且數量為一。而 ERC1155 在建立代幣時，每個代幣可以指定發行的數量，因此就能做出擁有相同代幣編號，且數量超過一個情境。")]),t._v(" "),s("p",[t._v("如果想要發行同值性代幣（ERC20），則只需要在 ERC1155 中發行一種編號為 "),s("code",[t._v("0")]),t._v(" 的代幣，數量設定該代幣的總發行量即可。\n反之，若想發行非同值性代幣（ERC721），則在 ERC1155 中發行多種相異編號的代幣，每種類的數量都設定為 "),s("code",[t._v("1")]),t._v(" 即可。")])])}),[],!1,null,null,null);s.default=e.exports}}]);